<!DOCTYPE html>
<html manifest="nicuinfusions.appcache">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
	<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
	<meta content="utf-8" http-equiv="encoding">
    <title>drugs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
   
   
   <!-- Add this to your HEAD if you want to load the 
   apple-touch-icons from another dir than your sites' root -->

   <link rel="apple-touch-icon" href="icons/apple-touch-icon-iphone-60x60.png">
   <link rel="apple-touch-icon" sizes="60x60" href="icons/apple-touch-icon-ipad-76x76.png">
   <link rel="apple-touch-icon" sizes="114x114" href="icons/apple-touch-icon-iphone-retina-120x120.png">
   <link rel="apple-touch-icon" sizes="144x144" href="icons/apple-touch-icon-ipad-retina-152x152.png">
    <script type="text/javascript" src="js/add2home.js"></script>
  
    <link rel="icon" type="image/ico" href="favicon.ico" />
    <link rel="apple-touch-icon" href="images/icons/icon.png" />
    <script type="text/javascript">

     

    </script>
	

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
   
	<link rel="stylesheet" href="css/infusion.css" media="screen" />
	<link rel="stylesheet" href="css/infusionPrint.css" media="print"/>
	

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.12.0/jquery.validate.js"></script>

 <script type="text/javascript" src="js/morphbolus.js"></script>
 <script type="text/javascript" src="js/morphprepinfusion2.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53870914-1', 'auto');
  ga('send', 'pageview');

</script>
<HTML>
<HEAD>
<TITLE>C&amp;C DHB Neonatal Unit</TITLE>



</HEAD>
<body> 




<!-- Start of first page -->
<div data-role="page"data-theme="b"data-add-back-btn="true" data-back-btn-text = "Home" id="stepOne">

	<div data-role="header">
		<h1>Morphine Bolus from Ampoule</h1>
		<a href="#about" data-icon="info" data-transition="slidedown" class="ui-btn-right"
		        data-rel="dialog">About</a>
	</div><!-- /header -->

	<div data-role="content">	
		
		<form id="formInput" name="formInput" method="post"data-ajax="false">
			<div class="ui-grid-b">
			    <div class="ui-block-a"><div class="ui-bar ui-bar-a"  style="height:80px" class="errorProne"><div class="ui-field-contain" >
			    <label for="surName">Name:</label>
			    <input name="surName" id="surName" placeholder="Name" value=""autocomplete="off" minlength="2" type="text" />
			</div></div></div>
			    <div class="ui-block-b"><div class="ui-bar ui-bar-a" style="height:80px" class="errorProne"><div class="ui-field-contain">
			    <label for="NHI">NHI:</label>
			    <input name="NHI" id="NHI" autocomplete="off" placeholder="Unique Identifier" value="" type="text" />
			</div></div></div>
			    <div class="ui-block-c"><div class="ui-bar ui-bar-a" style="height:80px"class="errorProne"><div class="ui-field-contain">
			    <label for="weight">Wt (kg):</label>
			    <input name="weight" id="weight" min="0.3" max="6" placeholder="kg" value="" autocomplete="off" type="number"required>
			</div></div></div>
			</div><!-- /grid-b -->
			<div class="ui-grid-solo">
			    <div class="ui-block-a"><div class="ui-bar ui-bar-a" style="height:80px">
					<div class="ui-field-contain">
					   
			
					        <label for="bolus">Morphine Bolus Dose</label>
					        <select name="bolus" id="bolus" data-native-menu="false" >
					            <option value="0">Bolus Dose:</option>
								<option value="50">50 micrograms/kg</option>
					            <option value="100">100 micrograms/kg</option>
					           		
					        </select>
					      
					        
					
					</div>
					
					
					
			</div></div>
			    
			    
			</div><!-- /grid-a -->
			
			
			
			

			<p></p>
			
				<div class="ui-grid-solo">
				    <div class="ui-block-a"><a data-role="button" onclick="stepOneSubmission();" data-theme="a">Prepare Report</a></div>
			</div>
	
			
		</form>
					
		
				
					
	</div><!-- /content -->

	<div data-role="footer">
		<h4>CCDHB</h4>
	</div><!-- /footer -->
</div><!-- /page -->




<!-- Start of third page -->
<div data-role="page"data-theme="b"data-add-back-btn="true" data-back-btn-text = "Home" id="theReport">

	<div data-role="header">
		<a class ="noPrint" href="#stepOne" data-role="button" data-inline="true" data-icon="back" >Back</a><h1>Morphine Bolus from Ampoule</h1>
		<A class="noPrint" id="mono" href="" target="_blank"><IMG height="30" width="90"  align="center"  src="http://web2/hhs/CH/NNU/RMO/drug/logo.png"onerror='$(this).hide();'/></A>
	</div><!-- /header -->

	<div data-role="content">	
		<div class="noScreen" id="stickyLabel">Affix Patient Identification Label Here</div>
		<div class="noPrint">
			<div class="ui-grid-b">
			    <div class="ui-block-a"><div class="ui-bar ui-bar-a" style="height:60px"><div class="ui-field-contain">
			    <label for="name-rep">Name:</label>
			    <input name="name-rep" id="name-rep" placeholder="Name" value="" minlength="2" type="text" readonly="readonly"/>
			</div></div></div>
			    <div class="ui-block-b"><div class="ui-bar ui-bar-a" style="height:60px"><div class="ui-field-contain">
			    <label for="nhi-rep">NHI:</label>
			    <input name="nhi-rep" id="nhi-rep" placeholder="Unique Identifier" value="" type="text" readonly="readonly"/>
			</div></div></div>
			    <div class="ui-block-c" class="weightInput" ><div class="ui-bar ui-bar-a" style="height:60px"><div class="ui-field-contain">
			    <label for="weight-rep">Weight:</label>
			    <input name="weight-rep" id="weight-rep" placeholder="kg" value="" type="text"readonly="readonly">
			</div></div></div>
			</div><!-- /grid-b -->
			
	
			<p></p>
		
			
			
			
			
		</div>
					
			<h3 class="noPrint">Report</h3>	
			
	<form class="ui-body ui-body-a ui-corner-all">
		<div class = "noScreen">
		<div class="ui-field-contain" class="noScreen">
			  <label for="requestSummary">Request Summary:</label>
			  <textarea cols="40" rows="2"name="requestSummary"id="requestSummary"readonly="readonly"></textarea>
			  </div>
			  </div>
			<!-- the noScreen (print) output of demographics and infusion fluid and strength -->
		<div class="ui-field-contain">
		        <label for="calcRep">Dose:</label>
		        <textarea cols="40" rows="3" name="calcRep" id="calcRep"readonly="yes"></textarea>
		    </div>
		<div class="ui-field-contain">
		        <label for="prepRep">Step One:</label>
		        <textarea cols="40" rows="3" name="prepRep" id="prepRep"readonly="readonly"></textarea>
		    </div>
		
		<div class="ui-field-contain">
		        <label for="doseRep">Step Two:</label>
		        <textarea cols="40" rows="3" name="doseRep" id="doseRep"readonly="readonly"></textarea>
		    </div>
		<div class="ui-field-contain">
		        <label for="noteRep">Administration:</label>
		        <textarea cols="40" rows="5" name="noteRep" id="noteRep"readonly="readonly"></textarea>
		    </div>
			
		<div id="loVolWarn" class="noScreenorPrint"><div class="ui-field-contain">
		        <label class="warning"for="loVolwarningRep">Warning:</label>
		        <textarea cols="40" rows="2"class="warning" name="loVolwarningRep" id="loVolwarningRep"readonly="readonly"></textarea>
		    </div>	</div>
		<div class="noScreen"><div class="ui-field-contain" >
		        <label for="datePrep">Report Prepared:</label>
		        <textarea cols="40" rows="1" name="datePrep" id="datePrep"readonly="readonly"></textarea>
		    </div>
		<div class="ui-field-contain" class="noScreen">
		        <label for="dateExp">Report Expires:</label>
		        <textarea cols="40" rows="1" name="dateExp" id="dateExp"readonly="readonly"></textarea>
		    </div></div>
	</form>	
	
	<form class="noScreen">
		
	    <fieldset class="signCheck"id="docCheck" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Prescribing NNS / Doctor:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Correct Medication</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>NNS / Doctor Sign</p>
	    </fieldset>
		
	    <fieldset class="signCheck"id="nurse1Check" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Before giving:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Correct Medication</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>Nurse-1 Sign </p>
	    </fieldset>
		
	    <fieldset class="signCheck"id="nurse2Check" data-role="none" data-iconpos="right" data-theme="a">
	        <legend>Before giving:</legend>
			<p></p>
	        <label class="check"><input class="check"id="checkbox-h-6a" type="checkbox" data-role="none"/>Pt. Name</label>
	      	<label class="check"><input class="check"id="checkbox-h-6b" type="checkbox" data-role="none"/>NHI</label>
			<label class="check"><input class="check"id="checkbox-h-6c" type="checkbox" data-role="none"/>Weight</label>
			<label class="check"><input class="check"id="checkbox-h-6d" type="checkbox" data-role="none"/>Correct Medication</label>
			<label class="check"><input class="check"id="checkbox-h-6e" type="checkbox" data-role="none"/>Matches Prescription</label>
			<p></p>
			<label class="sign"><input class="sign"data-role="none"/></label>
	        <p>Nurse-2 Sign</p>
	    </fieldset>
		
	</form>	
			
					
	</div><!-- /content -->

	<div data-role="footer" class="noPrint">
		<h4><a href="#" class="noPrint" data-role="button" onClick="testWeight();return false">Print Report</a></h4>
	</div><!-- /footer -->
</div><!-- /page -->

    <!-- Start of #about -->
    <div data-role="dialog" role="dialog" class="ui-dialog" id="about">
        <div data-role="content" data-theme="c" class="ui-content ui-body-c ui-corner-bottom ui-overlay-shadow"
            role="main">
            
            <h3 style="float: left; margin-top: 8px;">
                <p>
                    <strong>Wellington NICU Morphine Bolus from Ampoule Calculator </strong><br>
                    Version 1.3<br>
					Michael Hewson 2015
                    <a href="mailto:michael.hewson@ccdhb.org.nz" data-role="button" data-icon="mail">Report a problem...</a>
            </h3>
            <p style="clear: both; font-size: 85%; margin-bottom: 8px;">
                <em>For use only in conjunction with the CCDHB NICU drug monographs!</em></p>
				
					
				
				
            <a href="" data-role="button" data-icon="arrow-u" data-rel="back" data-theme="a">Close</a>
        </div>
    </div>
    <!-- end #about -->


</body>

</HTML>



<script>
	$.validator.addMethod("regex",function(value,element){
        return this.optional(element) || /^[a-zA-Z]{3}[0-9]{4}/i.test(value); //Ensures 3 letters then 4 numbers
    },"Valid NHI required");
	
	$.validator.addMethod("maxDecimal",function(value,element){
        return this.optional(element) || /^[0-6](?:\.\d{1,3})?$/i.test(value);
    },"max 3 decimal places");


	$("#formInput").validate({
    errorPlacement: function(error, element) {
        error.insertAfter(element.parent()); // <- the default
    },
    rules: {
		surName:{required: true},
		NHI:{required:true, maxlength:10,regex:false},
		weight:{required:true,maxDecimal:true},
		bolus:{min:50}
    },
    messages: {
		surName: "Name is required",
		NHI:"Valid NHI required",
		weight: "Weight is required: 0.3 - 6 kg",
		bolus: "Select required morphine bolus"
		
    }
});

$("#reset").on('click',function(){$("#formInput").validate().resetForm();
});

	</script>
	
	
